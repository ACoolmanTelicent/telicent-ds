import{_ as f}from"./extends-CCbyfPlC.js";import{_ as j}from"./createTheme-CxKjqECZ.js";import{r as i}from"./index-CBqU2yxZ.js";import{g as ho,a as Po,s as W,u as vo,c as Q,b as go,r as Eo}from"./styled-B4o22OB_.js";import{o as po,a as X,u as So}from"./useSlotProps-PXix3Ffb.js";import{j as k}from"./jsx-runtime-CKrituN3.js";import{M as Co}from"./Modal-CXP5e93J.js";import{P as Oo}from"./Paper-buxdT74x.js";import{u as Lo}from"./useForkRef-ByGBP3wL.js";import{o as co}from"./ownerWindow-C4NkdjO3.js";import{d as _o}from"./debounce-Be36O1Ab.js";import{i as zo}from"./isHostComponent-DVu5iVWx.js";import{G as No}from"./Grow-v3a2vyMz.js";import{M as $o}from"./MenuList-DFNhk0xs.js";function Do(t){return ho("MuiPopover",t)}Po("MuiPopover",["root","paper"]);const Fo=["onEntering"],Io=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],jo=["slotProps"];function uo(t,o){let r=0;return typeof o=="number"?r=o:o==="center"?r=t.height/2:o==="bottom"&&(r=t.height),r}function fo(t,o){let r=0;return typeof o=="number"?r=o:o==="center"?r=t.width/2:o==="right"&&(r=t.width),r}function mo(t){return[t.horizontal,t.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function J(t){return typeof t=="function"?t():t}const ko=t=>{const{classes:o}=t;return go({root:["root"],paper:["paper"]},Do,o)},Wo=W(Co,{name:"MuiPopover",slot:"Root",overridesResolver:(t,o)=>o.root})({}),Mo=W(Oo,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ao=i.forwardRef(function(o,r){var z,N,g;const v=vo({props:o,name:"MuiPopover"}),{action:A,anchorEl:c,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:w,anchorReference:m="anchorEl",children:H,className:U,container:Y,elevation:$=8,marginThreshold:s=16,open:p,PaperProps:D={},slots:M,slotProps:x,transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:b=No,transitionDuration:E="auto",TransitionProps:{onEntering:R}={},disableScrollLock:T=!1}=v,G=j(v.TransitionProps,Fo),F=j(v,Io),h=(z=x==null?void 0:x.paper)!=null?z:D,I=i.useRef(),S=Lo(I,h.ref),C=f({},v,{anchorOrigin:d,anchorReference:m,elevation:$,marginThreshold:s,externalPaperSlotProps:h,transformOrigin:y,TransitionComponent:b,transitionDuration:E,TransitionProps:G}),K=ko(C),V=i.useCallback(()=>{if(m==="anchorPosition")return w;const e=J(c),a=(e&&e.nodeType===1?e:po(I.current).body).getBoundingClientRect();return{top:a.top+uo(a,d.vertical),left:a.left+fo(a,d.horizontal)}},[c,d.horizontal,d.vertical,w,m]),B=i.useCallback(e=>({vertical:uo(e,y.vertical),horizontal:fo(e,y.horizontal)}),[y.horizontal,y.vertical]),l=i.useCallback(e=>{const n={width:e.offsetWidth,height:e.offsetHeight},a=B(n);if(m==="none")return{top:null,left:null,transformOrigin:mo(a)};const ro=V();let L=ro.top-a.vertical,_=ro.left-a.horizontal;const so=L+n.height,no=_+n.width,io=co(J(c)),lo=io.innerHeight-s,ao=io.innerWidth-s;if(s!==null&&L<s){const u=L-s;L-=u,a.vertical+=u}else if(s!==null&&so>lo){const u=so-lo;L-=u,a.vertical+=u}if(s!==null&&_<s){const u=_-s;_-=u,a.horizontal+=u}else if(no>ao){const u=no-ao;_-=u,a.horizontal+=u}return{top:`${Math.round(L)}px`,left:`${Math.round(_)}px`,transformOrigin:mo(a)}},[c,m,V,B,s]),[O,Z]=i.useState(p),P=i.useCallback(()=>{const e=I.current;if(!e)return;const n=l(e);n.top!==null&&(e.style.top=n.top),n.left!==null&&(e.style.left=n.left),e.style.transformOrigin=n.transformOrigin,Z(!0)},[l]);i.useEffect(()=>(T&&window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)),[c,T,P]);const xo=(e,n)=>{R&&R(e,n),P()},yo=()=>{Z(!1)};i.useEffect(()=>{p&&P()}),i.useImperativeHandle(A,()=>p?{updatePosition:()=>{P()}}:null,[p,P]),i.useEffect(()=>{if(!p)return;const e=_o(()=>{P()}),n=co(c);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}},[c,p,P]);let oo=E;E==="auto"&&!b.muiSupportAuto&&(oo=void 0);const Ro=Y||(c?po(J(c)).body:void 0),q=(N=M==null?void 0:M.root)!=null?N:Wo,to=(g=M==null?void 0:M.paper)!=null?g:Mo,To=X({elementType:to,externalSlotProps:f({},h,{style:O?h.style:f({},h.style,{opacity:0})}),additionalProps:{elevation:$,ref:S},ownerState:C,className:Q(K.paper,h==null?void 0:h.className)}),eo=X({elementType:q,externalSlotProps:(x==null?void 0:x.root)||{},externalForwardedProps:F,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Ro,open:p},ownerState:C,className:Q(K.root,U)}),{slotProps:wo}=eo,bo=j(eo,jo);return k.jsx(q,f({},bo,!zo(q)&&{slotProps:wo,disableScrollLock:T},{children:k.jsx(b,f({appear:!0,in:p,onEntering:xo,onExited:yo,timeout:oo},G,{children:k.jsx(to,f({},To,{children:H}))}))}))}),Ho=Ao;function Uo(t){return ho("MuiMenu",t)}Po("MuiMenu",["root","paper","list"]);const Go=["onEntering"],Ko=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Vo={vertical:"top",horizontal:"right"},Bo={vertical:"top",horizontal:"left"},Xo=t=>{const{classes:o}=t;return go({root:["root"],paper:["paper"],list:["list"]},Uo,o)},Yo=W(Ho,{shouldForwardProp:t=>Eo(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,o)=>o.root})({}),qo=W(Mo,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,o)=>o.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Jo=W($o,{name:"MuiMenu",slot:"List",overridesResolver:(t,o)=>o.list})({outline:0}),Qo=i.forwardRef(function(o,r){var z,N;const g=vo({props:o,name:"MuiMenu"}),{autoFocus:v=!0,children:A,className:c,disableAutoFocusItem:d=!1,MenuListProps:w={},onClose:m,open:H,PaperProps:U={},PopoverClasses:Y,transitionDuration:$="auto",TransitionProps:{onEntering:s}={},variant:p="selectedMenu",slots:D={},slotProps:M={}}=g,x=j(g.TransitionProps,Go),y=j(g,Ko),b=So(),E=b.direction==="rtl",R=f({},g,{autoFocus:v,disableAutoFocusItem:d,MenuListProps:w,onEntering:s,PaperProps:U,transitionDuration:$,TransitionProps:x,variant:p}),T=Xo(R),G=v&&!d&&H,F=i.useRef(null),h=(l,O)=>{F.current&&F.current.adjustStyleForScrollbar(l,b),s&&s(l,O)},I=l=>{l.key==="Tab"&&(l.preventDefault(),m&&m(l,"tabKeyDown"))};let S=-1;i.Children.map(A,(l,O)=>{i.isValidElement(l)&&(l.props.disabled||(p==="selectedMenu"&&l.props.selected||S===-1)&&(S=O))});const C=(z=D.paper)!=null?z:qo,K=(N=M.paper)!=null?N:U,V=X({elementType:D.root,externalSlotProps:M.root,ownerState:R,className:[T.root,c]}),B=X({elementType:C,externalSlotProps:K,ownerState:R,className:T.paper});return k.jsx(Yo,f({onClose:m,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?Vo:Bo,slots:{paper:C,root:D.root},slotProps:{root:V,paper:B},open:H,ref:r,transitionDuration:$,TransitionProps:f({onEntering:h},x),ownerState:R},y,{classes:Y,children:k.jsx(Jo,f({onKeyDown:I,actions:F,autoFocus:v&&(S===-1||d),autoFocusItem:G,variant:p},w,{className:Q(T.list,w.className),children:A}))}))}),dt=Qo;export{dt as M};
